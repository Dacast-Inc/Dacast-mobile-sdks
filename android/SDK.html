<!DOCTYPE html
    PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>

<head>
    <meta charset="utf-8" />
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible" />
    <title>DACAST MOBILE SDK</title>
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,700,300,400italic,700italic,300italic"
        rel="stylesheet" type="text/css">
    <script type="text/javascript">
        { { JS } }
    </script>
    <style>
        {
                {
                CSS
            }
        }
    </style>
</head>

<body>
    <div class="container" id="resources_container">
        <div style="display:flex;">
            <div id="indexer" style="width: auto; overflow:auto; padding-right:50px;">

                <div class="resource-section-item resource-section-group active" id="ios">
                    <a class="resource-section-item-click resource-section-group-click">iOS SDK</a>
                </div>

                <div class="resource-section-item resource-section-group" id="android">
                    <a class="resource-section-item-click resource-section-group-click">Android SDK</a>
                </div>

            </div>
            <div id="docs_content" style="width: 80%; overflow:auto;">
                <div id="default_content">
                    <h1 class="content-header">DACAST iOS SDK</h1>
                    <div class="content-header-text">
                        <div style="display:flex;">
                            <a>Quick start</a>
                        </div>
                        <div>
                            <div class="content-text">
                                The iOS SDK allows you to integrate the DaCast player securely in your mobile
                                applications.
                                To get started download the archive from <a
                                    href="https://player.dacast.com/assets/DacastIOSSDK_April052019.zip">this link</a>
                                and open it in a folder.
                                <br /><br />
                                In your Xcode application right click on the project, select "Add Files to ..." and add
                                both <strong>THEOplayerSDK.framework</strong> and
                                <strong>DacastPlayerIOS.framework</strong> from the archive.
                                <br />
                                In the project configuration make sure the frameworks are listed in both <span
                                    style="text-decoration: underline;">Linked Frameworks and Libraries</span> and <span
                                    style="text-decoration: underline;">Embedded Binaries</span>. You should end up with
                                something like this:

                                <div style="display: flex; margin-top: 20px; margin-bottom: 20px;">
                                    <div style="width: 800px;margin-left: auto;margin-right: auto">
                                        <img src="assets/iossdksetup.png" width="1722" height="596"
                                            style="display: block; width: 100%;height: auto;"></img>
                                    </div>
                                </div>

                                In <span style="text-decoration: underline;">ViewController.swift</span> import the
                                Dacast Player SDK:
                                ```javascript
                                import DacastPlayerIOS
                                ```
                                Next add the following code to your <code>viewDidLoad</code> function:
                                ```javascript
                                let player = DacastPlayer(contentIdStr: "104301_f_506288", adUrl:
                                "https://cdn.theoplayer.com/demos/preroll.xml")
                                player.frame = CGRect(x: 0, y: 0, width: 400, height: 400)
                                player.addAsSubview(of: self.view)
                                ```
                                Let's break down this code. First we create a <code>DacastPlayer</code> object with 2
                                arguments: the contentId and an adUrl.<br />
                                The contentId is found in the javascript embed code in the publish settings section of
                                your backoffice. The adUrl can be from any ad provider and is optional, removing it will
                                just play the video with no ad.
                                <br />
                                Next we set a size for our player with the <code>frame</code> property and add the
                                player to the current view with <code>addAsSubview</code> (you can also use
                                <code>insertAsSubview</code>)
                                <br /><br />
                                From there you can get the instance of the THEOplayer by calling
                                <code>player.getTHEOplayer()</code> and refer to the <a
                                    href="https://support.theoplayer.com/hc/en-us/sections/115000594409-iOS-SDK">official
                                    THEOplayer documentation</a>.
                            </div>
                        </div>
                    </div>
                </div>

                <div id="content-android" style="display:none">
                    <h1 class="content-header">DACAST Android SDK</h1>
                    <div class="content-header-text">
                        <div style="display:flex;">
                            <a>Quick start</a>
                        </div>
                        <div>
                            <div class="content-text">
                                The Android SDK allows you to integrate the DaCast player securely in your mobile
                                applications.
                                To get started download the archive from <a
                                    href="https://player.dacast.com/assets/DacastAndroidSDK_April052019.zip">this
                                    link</a> and open it in a folder.
                                <br /><br />
                                Head to the Dacast github repo <a
                                    href="https://github.com/Dacast-Inc/Dacast-mobile-sdks/tree/master/android">here</a>
                                and copy the DacastPlayer.java file into your project (At the same level as where the
                                MainActivity file will be).
                                At the first line of this file you have the import of the SDK.
                                ```
                                package com.dacast.dacastandroidsdk;
                                ```

                                You need to replace this with the name of your project eg
                                ```
                                package com.example.NAME_OF_YOUR_PROJECT;
                                ```

                                In Android Studio, right click on your app in the project explorer select New > Module.
                                Scroll down and choose <span style="text-decoration: underline;">Import .JAR/.AAR
                                    Package</span>.
                                On the next screen, for the File Name, browse to where you uncompressed the archive and
                                select <span style="text-decoration: underline;">theoplayer-android-sdk.aar</span>.and
                                click Finish.
                                If an error pops up open the <span
                                    style="text-decoration: underline;">settings.gradle</span> file for the project and
                                add the module name to the comma separted list after the <code>include</code> statement.
                                <br />

                                <div style="display: flex; margin-top: 20px; margin-bottom: 20px;">
                                    <div style="width: 800px;margin-left: auto;margin-right: auto">
                                        <img src="assets/androidsdksetup1.png" width="1012" height="136"
                                            style="display: block; width: 100%;height: auto;"></img>
                                    </div>
                                </div>

                                Now you need to add both modules as a dependency for your app. Go to File > Project
                                Structure...
                                <br />
                                Before adding the dependencies, there is currently a bug in the THEOplayer SDK if your
                                Target Sdk Version is API 28. Go to the Flavors tab and make sure your Target Sdk
                                Version is set to 27 and the Min Sdk Version set to API 16 or above.
                                In your settings.gradle file it may show what min version you need to set in the
                                filename.
                                <br />
                                Next go to the Dependencies tab, click the + button at the bottom, select 'Module
                                dependecy' and add both modules as a dependecy.
                                <br />
                                Click the + again, select Library dependency, in the search bar type 'gson' and hit
                                enter. Add com.google.code.gson as a dependency.
                                <br />
                                Your dependency tab should look similar to this:

                                <div style="display: flex; margin-top: 20px; margin-bottom: 20px;">
                                    <div style="width: 800px;margin-left: auto;margin-right: auto">
                                        <img src="assets/androidsdksetup2.png" width="1352" height="502"
                                            style="display: block; width: 100%;height: auto;"></img>
                                    </div>
                                </div>

                                <br />
                                In your MainActivity.java file, create a new field of type <code>DacastPlayer</code>
                                ```javascript
                                private DacastPlayer player;
                                ```
                                <br />
                                You also need to relay the pause, resume and destroy even to the player
                                ```javascript
                                @Override
                                protected void onPause() {
                                super.onPause();
                                player.onPause();
                                }

                                @Override
                                protected void onResume() {
                                super.onResume();
                                player.onResume();
                                }

                                @Override
                                protected void onDestroy() {
                                super.onDestroy();
                                player.onDestroy();
                                }
                                ```
                                Now let's initialise the <code>player</code> field in the <code>onCreate</code> method.
                                ```javascript
                                player = new DacastPlayer(this, "104301_f_506288"/*,
                                "https://cdn.theoplayer.com/demos/preroll.xml"*/);
                                ConstraintLayout layout = findViewById(R.id.mainlayout);
                                player.getView().setLayoutParams(
                                new ConstraintLayout.LayoutParams(
                                ConstraintLayout.LayoutParams.MATCH_PARENT,
                                ConstraintLayout.LayoutParams.MATCH_PARENT
                                )
                                );
                                layout.addView(player.getView());
                                ```
                                As you can see we instantiate a DacastPlayer object giving it the content id and
                                optionally an url to a preroll ad.
                                Then we just insert it in the main layout, assuming you have set up an id of
                                <code>mainlayout</code> for it.
                                <br /><br />
                                From there you can get the instance of the THEOplayer by calling
                                <code>player.getTHEOplayer()</code> and refer to the <a
                                    href="https://support.theoplayer.com/hc/en-us/sections/115000608365-Android-SDK">official
                                    THEOplayer documentation</a>.
                                The last thing that you need to get your player to work is to give the correct
                                permissions to the AndroidManifest.xml file.
                                Simple add these tags under the manifest tag.
                                ```
                                <uses-permission android:name="android.permission.INTERNET" />
                                <uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" />
                                ```
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>